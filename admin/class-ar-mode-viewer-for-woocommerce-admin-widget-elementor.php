<?php
/**
 * The admin-specific functionality of custom post type of the plugin.
 *
 * @link       https://racmanuel.dev
 * @since      1.0.0
 *
 * @package    Ar_Model_Viewer_For_Woocommerce
 * @subpackage Ar_Model_Viewer_For_Woocommerce/admin
 */

/**
 * The admin-specific functionality of custom post type of the plugin.
 *
 * This file include functions related with the custom post type for
 * make models with 3D and AR using a shortcode of the plugin.
 *
 * @package    Ar_Model_Viewer_For_Woocommerce
 * @subpackage Ar_Model_Viewer_For_Woocommerce/admin
 * @author     Manuel Ramirez Coronel <ra_cm@outlook.com>
 */
class Ar_Model_Viewer_For_Woocommerce_Admin_Widget
{

    /**
     * The ID of this plugin.
     *
     * @since    1.0.0
     * @access   private
     * @var      string    $plugin_name    The ID of this plugin.
     */
    private $plugin_name;

    /**
     * The unique prefix of this plugin.
     *
     * @since    1.0.0
     * @access   private
     * @var      string    $plugin_prefix    The string used to uniquely prefix technical functions of this plugin.
     */
    private $plugin_prefix;

    /**
     * The version of this plugin.
     *
     * @since    1.0.0
     * @access   private
     * @var      string    $version    The current version of this plugin.
     */
    private $version;

    /**
     * Initialize the class and set its properties.
     *
     * @since    1.0.0
     * @param      string $plugin_name       The name of this plugin.
     * @param      string $plugin_prefix    The unique prefix of this plugin.
     * @param      string $version    The version of this plugin.
     */
    public function __construct($plugin_name, $plugin_prefix, $version)
    {

        $this->plugin_name = $plugin_name;
        $this->plugin_prefix = $plugin_prefix;
        $this->version = $version;

    }

    // Load Elementor widget.
    public function my_elementor_load_widget()
    {
        // Ensure Elementor is loaded before attempting to register the widget.
        if (did_action('elementor/loaded')) {
            require_once plugin_dir_path(dirname(__FILE__)) . '/public/widgets/ar-model-viewer-widget.php';
        }
    }

    public function register_ar_model_viewer_widget($widgets_manager)
    {
        require_once plugin_dir_path(dirname(__FILE__)) . 'public/widgets/ar-model-viewer-widget.php';
        $widgets_manager->register(new \AR_Model_Viewer_Widget());
    }
}
